<app-flex [block]="true" direction="vertical">
  <app-flex-item [growable]="true">
    <ng-template [ngIf]="dataSource !== null">
      <app-infinite-scrollable-list [dataSource]="dataSource" [renderItem]="messageView"/>
    </ng-template>
  </app-flex-item>
  <app-flex-item>
    <app-message-input (sendMessage)="sendMessage($event)"/>
  </app-flex-item>
</app-flex>

<ng-template #messageView let-message>
  <app-message [message]="message"/>
</ng-template>
